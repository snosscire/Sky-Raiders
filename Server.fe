object server = Network.Server.start("Unknown", "0.1", 8899, "Test Game");

while( true ) {
	while( server.messagesWaiting() ) {
		object message = server.pullMessage();
		if( message ) {
			switch( message.type )
			{
				case Network.MESSAGE_NEW_USER:
					Engine.printLine("New user ${message.name} (${message.id}) connected.");
					break;
				case Network.MESSAGE_USER_DISCONNECTED:
					Engine.printLine("User ${message.id} disconnected.");
					break;
			}
		}
	}
}

server.destroy();

